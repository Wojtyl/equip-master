<div>
  <div class="mb-12">
    <h1 class="text-5xl font-semibold leading-normal">Nowe hasło</h1>
    <h3 class="text-sm font-normal">Wprowadź nowe hasło do Twojego konta.</h3>
  </div>
  <form class="flex flex-col" (ngSubmit)="savePassword()" [formGroup]="newPasswordForm">
    <div class="flex flex-col mb-4">
      <label for="password">Nowe hasło</label>
      <input class="bg-zinc-100 px-4 py-2 rounded-lg text-sm"
             id="password"
             type="password"
             formControlName="password"
             placeholder="Wprowadź nowe hasło"/>
      <span class="error-message" *ngIf="newPasswordForm.getError('responseError')">{{ errorMessage }}</span>
      <span class="error-message"
            *ngIf="newPasswordForm.get('password')?.touched && newPasswordForm.get('password')?.getError('required')">Proszę wprowadź nowe hasło</span>
    </div>
    <div class="flex flex-col mb-4">
      <label for="passwordConfirm">Powtórz hasło</label>
      <input class="bg-zinc-100 px-4 py-2 rounded-lg text-sm"
             id="passwordConfirm"
             type="password"
             formControlName="passwordConfirm"
             placeholder="Potwierdź nowe hasło"/>
      <span class="error-message"
            *ngIf="newPasswordForm.getError('passwordNotTheSame')">Hasła nie są identyczne!</span>
      <span class="error-message"
            *ngIf="newPasswordForm.get('passwordConfirm')?.touched && newPasswordForm.get('passwordConfirm')?.getError('required')">Potwierdź nowe hasło</span>

    </div>
    <button
      class="bg-black login-button relative rounded-lg text-white w-full h-[3rem] flex items-center justify-center p-2 mt-8 mb-3 disabled:bg-gray-700"
      [disabled]="formSubmitted || newPasswordForm.invalid" type="submit">
      @if (formSubmitted) {
        <app-svg-icon icon="loading_icon" iconClass="loading-spinner h-full" [scale]="0.3" fill="#fff"
                      stroke="#fff"></app-svg-icon>
      } @else {
        <span>Zapisz hasło</span>
      }
    </button>
    <div class="flex justify-center">
      <p class="cursor-pointer text-sm" (click)="backToLogin()">Powrót do logowania</p>
    </div>
  </form>
</div>
